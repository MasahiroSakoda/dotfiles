# Get editor completions based on the config schema
"$schema" = "https://starship.rs/config-schema.json"

# -*-mode:toml-*- vim:ft=toml.gotexttmpl

# ref: https://starship.rs/config/#prompt
format = """
[ÓÇ∂](fg:{{ .starship.env.fg_color }})\
$os\
[ÓÇ∞ ](fg:{{ .starship.env.fg_color }} bg:{{ .starship.env.bg_color }})\
$sudo\
$localip\
$shlvl\
$directory\
[ÓÇ∞](fg:{{ .starship.env.bg_color }} bg:{{ .git.color.branch.bg_color }})\
$git_branch\
[ÓÇ∞ ](fg:{{ .git.color.branch.bg_color }})\
$git_commit\
$git_status\
$git_state\
$git_metrics\
$fill\
$c\
$swift\
$rust\
$golang\
$java\
$scala\
$kotlin\
$nodejs\
$deno\
$bun\
$python\
$ruby\
$php\
$perl\
$lua\
$dieenv\
$docker_context\
$kubernetes\
$terraform\
$aws\
$azure\
$gcloud\
$container
$character\
$status\
$shell\
"""

right_format = """
[ÓÇ≥ ](fg:{{ .starship.env.fg_color }})
$jobs
[ÓÇ≤](fg:{{ .starship.clock.fg_color }})
$cmd_duration
$env_var
$battery
$memory_usage
$line_break
$package
[ÓÇ≤](fg:{{ .starship.clock.bg_color }} bg:{{ .starship.clock.fg_color }})
$time
[ÓÇ¥](fg:{{ .starship.clock.bg_color }})
"""
continuation_prompt = '[‚ùØ‚ùØ ](fg:blue)'
add_newline     = false
scan_timeout    = 30
command_timeout = 400

#-------------------------------------------------
# Hardware
#-------------------------------------------------
[battery]
disabled           = true
format             = '[$symbol$percentage]($style) '
full_symbol        = "ÔñÉ "
charging_symbol    = "ÔñÜ "
discharging_symbol = "ÔñÇ "
unknown_symbol     = "Ôñê "
empty_symbol       = "Ôñç "

[[battery.display]]
threshold = 15
style     = "red bold"

[[battery.display]]
threshold = 95
style     = "yellow bold"

[[battery.display]]
threshold = 99
style     = "green bold"

# ref: https://starship.rs/config/#memory-usage
[memory_usage]
disabled  = true
symbol    = "üêè "
style     = "fg:{{ .starship.memory.fg_color }} bg:{{ .starship.memory.bg_color }}"
threshold = -1

#-------------------------------------------------
# OS
# ref: https://starship.rs/config/#os
#-------------------------------------------------
[os]
disabled = false
format   = "[$symbol]($style)"
style    = "fg:{{ .starship.env.bg_color }} bg:{{ .starship.env.fg_color }}"

[os.symbols]
Windows = "Óúè "
Macos   = "ÔÖπ "
Linux   = "Ôåö "
Arch    = "ÔåÉ "
CentOS  = "ÔåÑ "
Debian  = "ÔåÜ "
Ubuntu  = "Ôåõ "
Amazon  = "Ôâ∞ "
Unknown = "Ôà≠ "

# ref: https://starship.rs/config/#character
[character]
disabled = false

# ref: https://starship.rs/config/#command-duration
[cmd_duration]
disabled = false
format   = "[ÓéÇ $duration ]($style)"
style    = "bold fg:{{ .starship.cmd.color }} bg:{{ .starship.clock.fg_color }}"

# ref: https://starship.rs/config/#hostname
[hostname]
ssh_only = true
trim_at  = "."
format   = "[@$hostname ÓÇ∞ ]($style)"
style    = {{ .starship.hostname.color | quote }}

# ref: https://starship.rs/config/#username
[username]
show_always = false
format      = "[$user ÓÇ∞ ]($style)"
style_root  = "ÓÄäred bold"
style_user  = {{ .starship.username.color | quote }}

[time]
disabled    = false
style       = "bold fg:{{ .starship.clock.fg_color }} bg:{{ .starship.clock.bg_color }}"
format      = "[ÔÄó $time]($style)"
time_range  = "-"
time_format = "%R"

# ref: https://starship.rs/config/#directory
[directory]
style             = 'fg:{{ .starship.path.fg_color }} bg:{{ .starship.env.bg_color }}'
read_only_style   = "fg:{{ .starship.path.ro_color }} bg:{{ .starship.env.bg_color }}"
format            = "[$path ]($style)[$read_only]($read_only_style)"
truncation_length = 3
# truncation_symbol = "ÔÅº "
truncate_to_repo  = false
use_os_path_sep   = true
# home_symbol       = "Û∞ãú "
fish_style_pwd_dir_length = 1
use_logical_path  = true

[directory.substitutions]
"Documents" = "ÔÖú "
"Downloads" = "ÔÄô "
"Music"     = "ÔÄÅ "
"Movies"    = "Û∞®ú "
"Pictures"  = "ÔÄæ "
"Public"    = "Óàì "
"Desktop"   = "ÔÑà "
"Library"   = "Û∞Ä∏ "
"Dropbox"   = "ÔÖ´ "
"Games"     = "ÔÑõ "
".Trash"    = "Ó™Å "
".config"   = "ÔÄì "
".cache"    = "Û∞É® "
".wine"     = "Û∞°∂ "

# ref: https://starship.rs/config/#jobs
[jobs]
disabled = false
format   = "[$symbol$number]($style) "
style    = "bold blue"
threshold = 1
symbol_threshold = 1
number_threshold = 2

# ref: https://starship.rs/config/#status
[status]
disabled = false

[fill]
symbol = "‚îà"
style  = "fg:{{ .starship.fill.color }}"

#-------------------------------------------------
# Shell
#-------------------------------------------------
# ref: https://starship.rs/config/#shell
[shell]
disabled = false
format   = "[$indicator]($style) "
style    = "(bold blue)"
bash_indicator = "ÓØä  ÓÇ± "
zsh_indicator  = "üí§ ÓÇ± "
fish_indicator = "üêü ÓÇ± "
cmd_indicator  = "ÓØÑ  ÓÇ± "

# ref: https://starship.rs/config/#shlvl
[shlvl]
disabled  = false
threshold = 2
repeat    = false
repeat_offset = 0

[localip]
disabled = false
ssh_only = true

[sudo]
disabled = false
format   = "as [$symbol]($style)"
style    = "bold blue"

# ref: https://starship.rs/config/#package-version
[package]
disabled = false
symbol   = "Ô£ñ "
style = "bold"
format          = "[ ÓÇ≥ $symbol $context]($style)"
version_format  = "${raw}"
display_private = false

#-------------------------------------------------
# Git config
#-------------------------------------------------
# ref: https://starship.rs/config/#git-status
[git_status]
style      = ""
format     = "([$all_status$ahead_behind]($style))"
diverged   = "[‚áï‚á° ${ahead_count}](fg:{{ .git.color.status.ahead }})[‚á£ ${behind_count}](fg:{{ .git.color.status.behind }})"
ahead      = "[‚ü´${count}](fg:{{ .git.color.status.ahead }}) "
behind     = "[‚ü™${count}](fg:{{ .git.color.status.behind }}) "
untracked  = "[Û∞èë ${count} ](bold fg:{{ .git.color.status.untracked }})"
conflicted = "[ÔÄ§ ${count} ](bold fg:{{ .git.color.status.conflicted }} bg:{{ .git.color.status.warning }})"
stashed    = "[Û∞ãª ${count} ](bold fg:{{ .git.color.status.stashed }})"
modified   = "[Û±©º ${count} ](bold fg:{{ .git.color.status.modified }})"
staged     = "[Û∞∑¨ ${count} ](bold fg:{{ .git.color.status.staged }})"
renamed    = "[Û∞ëï ${count} ](bold fg:{{ .git.color.status.renamed }})"
deleted    = "[Ó™Å ${count} ](bold fg:{{ .git.color.status.deleted }})"
up_to_date = "[Ó™≤ ](fg:{{ .git.color.status.up_to_date}})"

# ref: https://starship.rs/config/#git-state
[git_state]
format = "[($state( $progress_current of $progress_total))]($style)"
cherry_pick = '[Óäõ PICKING](bold red)'

# ref: https://starship.rs/config/#git-branch
[git_branch]
style  = "underline fg:{{ .git.color.branch.fg_color }} bg:{{ .git.color.branch.bg_color}}"
format = "[$symbol $branch(:$remote_branch) ]($style)"
symbol = "Óú•"

# ref: https://starship.rs/config/#git-metrics
[git_metrics]
disabled      = false
added_style   = "fg:{{ .git.color.line.add }}"
deleted_style = "fg:{{ .git.color.line.delete }}"
format        = "([+$added]($added_style)/[-$deleted]($deleted_style))[ ÓÇ±](fg:{{ .git.color.line.fg_color }})"

# ref: https://starship.rs/config/#git-commit
[git_commit]
style = "bg:{{ .git.color.commit.bg_color }}"
commit_hash_length = 7

#-------------------------------------------------
# Programming Language
#-------------------------------------------------
{{- range $i, $lang := .starship.langs }}
[{{ $lang.name }}]
symbol = "{{ $lang.icon }} {{ $lang.display }}"
style  = "bold fg:{{ $lang.color }}"
{{- if eq $lang.name "python" }}
format = " [ ÓÇ≥ ${symbol}${pyenv_prefix} (${version} )(($virtualenv) )]($style)"
{{ else }}
format = "[ ÓÇ≥ $symbol $version]($style)"
{{ end -}}
{{ end -}}

#-------------------------------------------------
# Environments
#-------------------------------------------------
[direnv]
disabled = false
format   = "[$symbol$loaded/$allowed]($style) "
symbol   = "direnv "
style    = "bold orange"

#-------------------------------------------------
# Container
# ref: https://starship.rs/config/#container
#-------------------------------------------------
[container]
disabled = false
format   = "[ ÓÇ≥ $symbol ($name)]($style)"
style    = "red bold dimmed"
symbol   = '‚¨¢ '

[docker_context]
disabled = false
symbol   = "üê≥ "
style    = "blue bold"
format   = "[ ÓÇ≥ $symbol $context]($style) $path"

# ref: https://starship.rs/config/#kubernetes
[kubernetes]
disabled = false
symbol   = "‚ò∏Ô∏è "
style    = "purple bold"
format   = "[ ÓÇ≥ $symbol ($user in )($cluster on )$context ($namespace)]($style)"

[[kubernetes.contexts]]
context_pattern = "dev.*"
style           = "bold green"

[[kubernetes.contexts]]
context_pattern = "staging.*"
style           = "bold yellow"

[[kubernetes.contexts]]
context_pattern = "prod.*"
style           = "bold red"

[[kubernetes.contexts]]
context_pattern = "arn:aws:eks:.*/(?P<cluster>[\\w-]+)"
context_alias   = "aws/$cluster"
symbol          = "Óû≠"

[[kubernetes.contexts]]
context_pattern = "gke_.*_(?P<cluster>[\\w-]+)"
context_alias   = "gke/$cluster"
symbol          = "Óü±"

[[kubernetes.contexts]]
context_pattern = "aks-(?P<cluster>[\\w-]+)"
context_alias   = "aks/$cluster"
symbol          = "Óùî"

[terraform]
symbol = "Óöö "
format = "[ ÓÇ≥ $symbol $version]($style)"

{{- if .cloud }}
#-------------------------------------------------
# Cloud
#-------------------------------------------------
[aws]
disabled = true
style    = "bold yellow"
format   = "[ ÓÇ≥ on $symbol($profile )(($region) )([$duration] )]($style)"

[aws.region_aliases]
us-east-1      = "va"        # North Virginia
us-east-2      = "oh"        # Ohio
us-west-1      = "ca"        # North California
us-west-2      = "or"        # Oregon
af-south-1     = "za"        # Cape Town
ap-east-1      = "hk"        # Hong Kong
ap-south-1     = "mb"        # Munbai
ap-south-2     = "hyd"       # Hyderabad
ap-southeast-1 = "sg"        # Singapore
ap-southeast-2 = "syd"       # Sydney
ap-southeast-3 = "jk"        # Jakarta
ap-southeast-4 = "mel"       # Melbourne
ap-northeast-1 = "tokyo"     # Tokyo
ap-northeast-2 = "seoul"     # Seoul
ap-northeast-3 = "osaka"     # Osaka
ca-central-1   = "canada"    # Montreal
ca-west-1      = "calgary"   # Calgary
eu-central-1   = "fr"        # Frankfurt
eu-central-2   = "zrh"       # Zurich
eu-west-1      = "ie"        # Ireland
eu-west-2      = "ldn"       # London
eu-west-3      = "pa"        # Paris
eu-south-1     = "mi"        # Milano
eu-south-2     = "es"        # Spain
eu-north-1     = "sthlm"     # Stockholm
il-central-1   = "ta"        # Tel Aviv
me-south-1     = "bh"        # Bahrain
me-central-1   = "ae"        # UAE
sa-east-1      = "br"        # San Paulo

[aws.profile_aliases]
Enterprise_Naming_Scheme-voidstars = 'void**'

[azure]
disabled = true
format   = "[ ÓÇ≥ on $symbol($subscription)]($style) "
symbol   = "Û∞†Ö "

[gcloud]
disabled = true
format   = "[ ÓÇ≥ on $symbol$account(@$domain)(($region))]($style) "
symbol   = "ÔÜ† "
style    =  "bold green"
{{- end }}
