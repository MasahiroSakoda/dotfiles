# -*-mode:fish-*- vim:ft=fish.gotexttmpl

# XDG paths
set -gx XDG_BIN_HOME $HOME/.local/bin
set -gx XDG_LIB_HOME $HOME/.local/lib
set -gx XDG_CONFIG_HOME $HOME/.config
set -gx XDG_CACHE_HOME $HOME/.cache
set -gx XDG_DATA_HOME $HOME/.local/share
set -gx XDG_STATE_HOME $HOME/.local/state

# Homebrew
set -gx HOMEBREW_PREFIX "{{ .brew_prefix }}"
if test -d $HOMEBREW_PREFIX
  set -gx HOMEBREW_CELLAR "$HOMEBREW_PREFIX/Cellar"
end

## Cask
set -x HOMEBREW_CASK_OPTS "--appdir=~/Applications"

# cURL
set -gx CURL_HOME "$XDG_CONFIG_HOME/curl"

## jethrokuan/fzf
set -U FZF_LEGACY_KEYBINDINGS 0
set -U FZF_DISABLE_KEYBINDINGS 0

set -Ux FZF_DEFAULT_OPTS "--ansi --cycle --reverse --height 100% --margin=1,2 --padding 1 \
    --border rounded --marker=' ' --prompt='  ' --pointer=' ' \
    --bind 'ctrl-u:preview-up,ctrl-d:preview-down,ctrl-/:toggle-preview' \
    --color=fg:#cad3f5,header:#ed8796,info:#c6a0f6,pointer:#f4dbd6 \
    --color=bg+:#363a4f,spinner:#f4dbd6,hl:#ed8796 \
    --color=marker:#f4dbd6,fg+:#cad3f5,prompt:#c6a0f6,hl+:#ed8796"
set -Ux FZF_FIND_FILE_OPTS       "--border-label='  Files' --prompt='  ' --pointer=' '"
set -Ux FZF_REVERSE_ISEARCH_OPTS "--border-label=' Cmd History' --prompt='  ' --pointer=' '"

set -Ux FZF_PREVIEW_FILE_CWD "bat --color=always --style=numbers,grid --prompt=' '--line-range :500"
set -Ux FZF_PREVIEW_DIR_CMD "bat --color=always --style=numbers,grid --prompt=' '--line-range :500"
set -Ux FZF_ENABLE_OPEN_PREVIEW 1

# Zoxide
set -gx _ZO_DATA_DIR "$XDG_STATE_HOME/zoxide"
{{- if eq .chezmoi.os "darwin" }}
set -gx _ZO_EXCLUDE_DIRS "**/.git/**:**/node_modules/**:**/tmp/**:**/dist/**:**/build/**:$XDG_CACHE_HOME/*:$HOME/Library/**:$HOME/Library/Caches/**"
{{- else if eq .chezmoi.os "linux" }}
set -gx _ZO_EXCLUDE_DIRS "**/.git/**:**/node_modules/**:**/tmp/**:**/dist/**:**/build/**:$XDG_CACHE_HOME/*"
{{- end }}
set -gx _ZO_FZF_OPTS "--preview 'eza --tree --long --header --color=always --group-directories-first --hyperlink {} || echo \"No Preview\"' --exit-0"

# Container
## Lima / Colima
set -gx LIMA_HOME     "$XDG_DATA_HOME/lima"
set -gx COLIMA_HOME   "$XDG_CONFIG_HOME/colima"
set -gx DOCKER_CONFIG "$HOME/.docker"
set -gx DOCKER_HOST   "unix://$COLIMA_HOME/default/docker.sock"

# gibo
set -gx GIBO_BOILERPLATES "$XDG_DATA_HOME/gibo"

# AI Agent
set -gx OPENCODE_CONFIG "$XDG_CONFIG_HOME/opencode/config.json"
set -gx CLAUDE_CONFIG_DIR "$XDG_CONFIG_HOME/claude"
# set -gx GEMINI_CONFIG_DIR "$XDG_CONFIG_HOME/gemini"
set -gx CODEX_HOME "$XDG_CONFIG_HOME/codex"
set -gx SERENA_HOME "$XDG_DATA_HOME/serena"
