{
  "$schema": "https://raw.githubusercontent.com/google-gemini/gemini-cli/main/schemas/settings.schema.json",
  "tools": {
    "autoAccept": false,
    "sandbox": false
  },
  "general": {
    "checkpointing": { "enabled": true },
    "enableAutoUpdate": false,
    "preferredEditor": "neovim",
    "vimMode": false,
    "previewFeatures": true,
    "sessionRetention": {
      "warningAcknowledged": true,
      "enabled": true,
      "maxAge": "30d"
    }
  },
  "context": {
    "fileName": [ "GEMINI.md", "AGENTS.md" ],
    "fileFiltering": { "respectGitIgnore": true, "enableRecursiveFileSearch": true }
  },
  "model": { "name": "auto-gemini-3" },
  "security": {
    "auth": { "selectedType": "oauth-personal" }
  },
  "ui": { "theme": "GitHub" },
  "experimental": {
    "enableAgents": true,
    "plan": true
  },
  "privacy": { "usageStatisticsEnabled": false },
  "hooks": {
    "Notification": [
      {
        "matcher": "permission_prompt",
        "hooks": [
          {
            "name": "Gemini Permission Prompt Notification",
            "description": "Sends a desktop notification when Gemini CLI needs permissions.",
            "type": "command",
            "command": "afplay /System/Library/Sounds/Submarine.aiff >/dev/null 2>&1 &"
          }
        ]
      },
      {
        "matcher": "idle_prompt",
        "hooks": [
          {
            "name": "Gemini Idle Prompt Notification",
            "description": "Sends a desktop notification when Gemini CLI is idle.",
            "type": "command",
            "command": "afplay /System/Library/Sounds/Purr.aiff >/dev/null 2>&1 &"
          }
        ]
      }
    ],
    "BeforeTool": [],
    "AfterTool": [],
    "BeforeAgent": [],
    "AfterAgent": [
      {
        "matcher": "*",
        "hooks": [
          {
            "name": "Gemini Notification",
            "description": "Sends a desktop notification after a tool is executed.",
            "type": "command",
            "command": "afplay /System/Library/Sounds/Glass.aiff >/dev/null 2>&1 &"
          }
        ]
      }
    ]
  },
  "telemetry": {
    "enabled": false,
    "target": "local",
    "otlpEndpoint": "http://localhost:4317",
    "logPrompts": true
  },
  {{/* MCP Servers */ -}}
  {{ $servers := dict }}
  {{- range $key, $value := .mcp.providers -}}
  {{-   if hasKey $value "type" -}}
  {{-     $_ := $value | deleteValueAtPath "type" -}}
  {{-   end -}}
  {{-   if hasKey $value "oauth" -}}
  {{-     $_ := $value | deleteValueAtPath "oauth" -}}
  {{-   end -}}
  {{-   if and (hasKey $value "enabled") ($value.enabled) }}
  {{-     $_ := $value | deleteValueAtPath "enabled" -}}
  {{-     $_ := $servers | setValueAtPath $key $value -}}
  {{-   end }}
  {{- end -}}
  "mcpServers": {{ $servers | toPrettyJson | indent 2 | trim }}
}
{{- /*
// -*-mode:jsonc-*- vim:ft=jsonc.gotexttmpl
*/ -}}
